# Chatbot Spike

An experiment to evaluate the feasibility of using Angular Elements to share code with a static site.

## Objective

The primary objective of this spike, is to prove that we can package a chatbot as an angular element, so that it can be:

1. included as a custom web component in an Angular application,
2. included as a custom web component in a static web site

This would allow us to maintain a single source of truth for both consumer platforms.  As an added bonus, the chatbot could be encapsulated as a stand-alone component.

## Structure

This project is structured as an Angular Workspace acting as a _monorepo_: this allows us to group multiple projects working closely together:

- _chatbot_: an angular application encapsulating the common code to be shared. It generates a custom element, _\<chatbot-loader\>_, packaged as a javascript bundle, _chatbot-wiget.js_.
- _chatbot-app_: a minimal angular application showcasing the inclusion of the _chatbot-widget.js_ bundle;
- _static-site_: a folder containing static resources (including the _chatbot-widget.js_ bundle generated by chatbot); this showcases the inclusion of the angular logic defined in chatbot-library by using the custom element, _\<chatbot-loader\>_. 

The project structure thus looks like this:

```pgsql
chatbot/
├── projects/
│   ├── chatbot-app/ <-- Main Angular app
│   └── chatbot/ <-- Angular App to build the web component
├── static-site <-- Resources to launch static site
├── angular.json
├── package.json
└── tsconfig.json
```

## Setup

After cloning the project, install all dependencies:

```bash
npm install
```

## Scripts

A collection of scripts have been configured in `package.json` to streamline development activities around this spike.  Following is a brief description of their usage.

Build sample angular application consuming chabot bundle:

```bash
npm run build-chatbot-app
```

Build the chatbot project, create the `chatbot-widget.js` bundle, and copy the bundle to target directories:

```bash
npm run install
```

Launch the test angular app on your local machine (http://localhost:4200):

```bash
npm run chatbot-app
```

Launch the test static site on your local machine (http://localhost:4201):

```bash
npm run static-site
```
